<html>
	<head>
		<title>
			Spanish Future and Conditional Tenses
		</title>
		<style>
			.disabled, .disabled * {
				display: none;
			}
			* {
				margin: 0;
				padding: 0;
			}
			*::selection {
				background-color: RGB(0,128,255);
			}
			p, h1, h2, h3, h4, h5, h6, button, input {
				font-family: "Arial", sans-serif;
			}
			textarea:focus, select:focus, input:focus, button:focus {
				/*Disables the default outline styling applied by some browsers on elements with the "focus" pseudoclass enabled*/
				outline: none;
			}
			button:hover, #configuration > button:hover, input:hover, textarea:hover {
				/*#configuration > button:hover is used to account for the other reference of #configuration > button having a higher precedence due to being a more specific selection*/
				background-color: RGB(230,230,230);
			}
			button:active, #configuration > button:active, input:focus, textarea:focus {
				/*#configuration > button:active is used to account for the other reference of #configuration > button having a higher precedence due to being a more specific selection*/
				background-color: RGB(200,200,200);
			}
			body {
				background-color: RGB(255,255,255);
			}
			#header {
				background-color: RGB(255,128,0);
				height: 10vh;
				width: 100vw;
				position: fixed;
				top: 0;
				left: 0;
			}
			#title {
				color: RGB(255,255,255);
				font-size: 2vw;
				position: absolute;
				top: 2vh;
				left: 2vh;
			}
			#data {
				height: 20vh;
				width: 100vw;
				position: fixed;
				top: 0;
				left: 0;
			}
			#ratioCorrect {
				color: RGB(255,255,255);
				background-color: RGB(255,128,0);
				font-size: 10vw;
				position: absolute;
				top: 10vh;
				right: 2vh;
				transform: translate(-50%);
			}
			#problems {
				background-color: RGB(255,255,255);
				height: 60vh;
				width: 100vw;
				position: fixed;
				top: 30vh;
				left: 0;
			}
			#problems > div {
				background-color: RGB(255,255,255);
				height: 100%;
				width: 100%;
				position: absolute;
				top: 0;
				left: 0;
			}
			#configuration {
				background-color: RGB(255,128,0);
				height: 10vh;
				width: 50vw;
				position: fixed;
				bottom: 0;
				right: 0;
			}
			#configuration > button {
				background-color: RGB(255,255,255);
				color: RGB(255,128,0);
				height: 8vh;
				width: 16vh;
				position: absolute;
				top: 1vh;
				font-size: 1.5vh;
				border: 0;
			}
			#selectFutureConjugationProblems {
				right: 2vw;
			}
			#selectConditionalConjugationProblems {
				right: calc(4vw + 16vh);
			}
		</style>
	</head>
	<body>
		<div id="header">
			<h1 id="title">
				Spanish Future and Conditional Tenses
			</h1>
		</div>
		<div id="data">
			<p id="ratioCorrect">
				<span id="numberCorrect"></span>/<span id="numberTotal"></span> = <span id="percentageCorrect"></span>%
			</p>
		</div>
		<div id="problems">
			<div id="futureConjugationProblems">
				futureConjugationProblems
			</div>
			<div id="conditionalConjugationProblems" class="disabled">
				conditionalConjugationProblems
			</div>
		</div>
		<div id="configuration">
			<button id="selectFutureConjugationProblems" data-problemtype="futureConjugation">
				Select Future-Tense Conjugation Problems
			</button>
			<button id="selectConditionalConjugationProblems" data-problemtype="conditionalConjugation">
				Select Conditional-Tense Conjugation Problems
			</button>
		</div>
	</body>
	<script>
		function selectProblemType(e) {
			var enabledProblem = e.target.dataset.problemtype + "Problems";
			var problems = document.getElementById("problems").children;
			for (var i = 0; i < problems.length; i++) {
				if (problems[i].id !== enabledProblem) {
					problems[i].classList.add("disabled");
				} else {
					problems[i].classList.remove("disabled");
				};
			};
		};
		var buttons = document.getElementById("configuration").children;
		for (var i = 0; i < buttons.length; i++) {
			buttons[i].addEventListener("click", selectProblemType);
		};
		var verbs = ["tener","poner","valer","salir","venir","poder","caber","haber","saber","querer","decir","hacer","abrir","correr","dar","jugar","llegar","llamar","leer","ir","hablar","vivir","ver","tomar","trabajar","ser","empezar","pagar","mirar","llevar","creer","deber"];
		var irregularBoundaryIndex = 11;
		var irregulars = ["tendr","pondr","valdr","saldr","vendr","podr","cabr","habr","sabr","querr","dir","har"];
		var subjects = ["yo","t&#xfa;","&#xe9;l/ella/Ud.","nosotros","vosotros","ellos/ellas/Uds."];
		var subjectEndingsFuture = ["&#xe9;","&#xe1;s","&#xe1;","emos","&#xe9;is","&#xe1;n"];
		var subjectEndingsConditional = ["&#xed;a","&#xed;as","&#xed;a","&#xed;amos","&#xed;ais","&#xed;an"];
		var sanitizedCharacters = [["a&#x301;","&#xe1;"],["e&#x301;","&#xe9;"],["i&#x301;","&#xed;"],["o&#x301;","&#xf3;"],["u&#x301;","&#xfa;"],["A&#x301;","&#xe1;"],["E&#x301;","&#xe9;"],["I&#x301;","&#xed;"],["O&#x301;","&#xf3;"],["U&#x301;","&#xfa;"],["&#xc1;","&#xe1;"],["&#xc9;","&#xe9;"],["&#xcd;","&#xed;"],["&#xd3;","&#xf3;"],["&#xda;","&#xfa;"],["A","a"],["B","b"],["C","c"],["D","d"],["E","e"],["F","f"],["G","g"],["H","h"],["I","i"],["J","j"],["K","k"],["L","l"],["M","m"],["N","n"],["O","o"],["P","p"],["Q","q"],["R","r"],["S","s"],["T","t"],["U","u"],["V","v"],["W","w"],["X","x"],["Y","y"],["Z","z"]];
		function randomVerb(tense) {
			/*
			tense = 0 -> future
			tense = 1 -> conditional
			*/
			var verb = "";
			if (Math.random() < 0.25) {
			    verb = irregulars[Math.round(Math.random() * irregulars.length)];
			} else {
			    verb = verbs[Math.round(Math.random() * (verbs.length - irregularBoundaryIndex - 2)) + irregularBoundaryIndex + 1];
			};
			if (tense == 0) {
				verb += subjectEndingsFuture[Math.round(Math.random() * 5)];
			} else {
				verb += subjectEndingsConditional[Math.round(Math.random() * 5)];
			};
			return verb;
		};
		function inputSanitization(input) {
			var sanitized = input;
			for (var i = 0; i < sanitizedCharacters.length; i++) {
				sanitized = sanitized.replace(new RegExp(sanitizedCharacters[i][0], "g"), sanitizedCharacters[i][1]);
			};
			return sanitized;
		};
		function verbTest() {
			document.getElementById("futureConjugationProblems").innerHTML = randomVerb(Math.round(Math.random()));
		};
		window.setInterval(verbTest, 2000);
	</script>
</html>
