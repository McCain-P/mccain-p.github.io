<html>
  <head>
    <title>
      Infection Paper
    </title>
    <style>
      body {
        background-color: RGB(255,255,255);
      }
      @media screen {
        .page {
          border: calc(100vh / 88) solid RGB(0,0,0); /*0.125 (1/8) inches*/
          margin: calc(100vh / 22) calc((100vw - (100vh * (17 / 22))) / 2) calc(100vh / 22) calc((100vw - (100vh * (17 / 22))) / 2); /*0.5 (1/2) inches*/
          padding: calc(100vh / 22); /*0.5 (1/2) inches*/
          height: 100vh; /*11 inches*/
          width: calc(100vh * (17 / 22)); /*8.5 inches*/
        }
        #printButton {
          /*Styling CSS, position: fixed;*/
          position: fixed;
          top: 5vh;
          left: 5vw;
          height: 10vh;
          width: 10vw;
          background-color: RGB(255,255,255);
          border: 0.5vh solid RGB(0,0,0);
        }
        #printButton:hover {
          background-color: RGB(192,192,192); 
        }
        #printButton:active {
          background-color: RGB(128,128,128);
        }
      }
      @media print {
        .page {
          break-after: page;
          border: 0;
          margin: 0;
          padding: calc(100% / 17); /*0.5 (1/2) inches*/
          height: 100%; /*11 inches*/
          width: 100%; /*8.5 inches*/
        }
        #printButton {
          display: none;
        }
      }
      body * {
        position: static;
      }
      h1, h2, p {
        font-family: "Times New Roman", serif;
        color: RGB(0,0,0);
        padding: 0;
      }
      h1 {
        font-size: 20pt;
        margin-bottom: calc(100% * (4 / 17)); /*2 inches*/
        font-weight: bold;
      }
      h2 {
        font-size: 16pt;
        margin-bottom: calc(100% * (2 / 17)); /*1 inch*/
        text-decoration: underline;
        font-weight: normal;
      }
      p {
        font-size: 14pt;
        margin-bottom: calc(100% / 17); /*0.5 (1/2) inches*/
      }
      .graph {
        width: 75%; /*6.375 (6 + 3/8) inches*/
        height: calc(100% * (153 / 176)); /*9.5625 (9 + 9/16) inches, 2:3 ratio  OLD: calc(100% * (51 / 88)) = 6.375 (6 + 3/8) inches*/
        padding: 0;
        border-width: calc(100% / 68); /*0.125 (1/8) inches*/
        border-style: solid;
        border-color: RGB(0,0,0);
        margin: 0 12.5% calc(100% * (2 / 17)) 12.5%; /*1 inch*/
      }
    </style>
  </head>
  <body>
    <button id="printButton" onclick="window.print()">
      Print Document
    </button>
    <div class="document">
      <div class="page">
        <h1>h1</h1><h2>h2</h2><p>p</p><p>p</p><h2>h2</h2><p>p</p><p>p</p>
      </div>
      <div class="page">
        <h2>h2</h2>
        <canvas class="graph" id="initialInfectionGraph" height="600" width="400">
        </canvas>
      </div>
      <div class="page">
        <canvas class="graph" id="fixedInfectionGraph" height="600" width="400">
        </canvas>
      </div>
      <div class="page">
        <canvas class="graph" id="completedInfectionGraph" height="600" width="400">
        </canvas>
      </div>
    </div>
  </body>
  <script>
    var initialDataset = [
      [["Katie",2],["Morgen",2],["Alexis",2],["Cassie",2],["Ashley",1]],
      [["Cassie",2],["AJ",2],["Alejandro",2],["Katie",2],["Kristin",1]],
      [["Claire",2],["Ksenia",2],["Cody",2],["Hermalina",2],["Morgen",1]],
      [["AJ",2],["Cassie",2],["Ashley",2],["Julia",2],["Alexis",1]],
      [["Julia",2],["Shyann",2],["Isabella",2],["AJ",2],["Aryana",0]],
      [["Ksenia",2],["Claire",2],["Hermalina",2],["Layla",2],["Aurora",1]],
      [["Alejandro",2],["Kristin",2],["Cassie",2],["Shyann",2],["Eli",0]],
      [["Hermalina",2],["Aryana",2],["Ksenia",2],["Claire",2],["Caden",0]],
      [["Cody",2],["Ellie",2],["Claire",2],["Aryana",2],["McCain",0]],
      [["Aryana",2],["Hermalina",2],["James",2],["Cody",2],["Julia",0]],
      [["Ashley",2],["Isabella",2],["AJ",2],["Alexis",2],["Katie",1]],
      [["Isabella",2],["Ashley",2],["Julia",2],["Shyann",2],["Avalyn",0]],
      [["Morgen",2],["Katie",2],["Layla",2],["Ellie",2],["Claire",1]],
      [["Shyann",2],["Julia",2],["Aurora",2],["Isabella",2],["Alejandro",0]],
      [["Aurora",2],["Alexis",2],["Shyann",2],["Avalyn",2],["Ksenia",1]],
      [["James",2],["Avalyn",2],["Aryana",2],["McCain",2],["Layla",1]],
      [["McCain",2],["Layla",2],["Caden",2],["James",2],["Cody",0]],
      [["Alexis",2],["Aurora",2],["Katie",2],["Ashley",2],["AJ",1]],
      [["Layla",2],["McCain",2],["Morgen",2],["Ksenia",2],["James",1]],
      [["Avalyn",2],["James",2],["Ellie",2],["Aurora",2],["Isabella",0]],
      [["Caden",2],["Eli",2],["McCain",2],["Kristin",2],["Hermalina",0]],
      [["Eli",2],["Caden",2],["Kristin",2],["Ellie",2],["Alejandro",1]],
      [["Kristin",2],["Alejandro",2],["Eli",2],["Caden",2],["Cassie",1]],
      [["Ellie",2],["Cody",2],["Morgen",2],["Avalyn",2],["Eli",1]]
    ];
    var fixedDataset = [
      [["Katie",2],["Morgen",2],["Alexis",2],["Cassie",2],["Ashley",1]],
      [["Cassie",2],["AJ",2],["Alejandro",2],["Katie",2],["Kristin",1]],
      [["Claire",2],["Ksenia",2],["Cody",2],["Hermalina",2],["Morgen",1]],
      [["AJ",2],["Cassie",2],["Ashley",2],["Julia",2],["Alexis",1]],
      [["Julia",2],["Shyann",2],["Isabella",2],["AJ",2],["Aryana",0]],
      [["Ksenia",2],["Claire",2],["Hermalina",2],["Layla",2],["Aurora",1]],
      [["Alejandro",2],["Kristin",2],["Cassie",2],["Eli",2],["Shyann",0]],
      [["Hermalina",2],["Aryana",2],["Ksenia",2],["Claire",2],["Caden",0]],
      [["Cody",2],["Ellie",2],["Claire",2],["Aryana",2],["McCain",0]],
      [["Aryana",2],["Hermalina",2],["James",2],["Cody",2],["Julia",0]],
      [["Ashley",2],["Isabella",2],["AJ",2],["Alexis",2],["Katie",1]],
      [["Isabella",2],["Ashley",2],["Julia",2],["Shyann",2],["Avalyn",0]],
      [["Morgen",2],["Katie",2],["Layla",2],["Ellie",2],["Claire",1]],
      [["Shyann",2],["Julia",2],["Aurora",2],["Isabella",2],["Alejandro",0]],
      [["Aurora",2],["Alexis",2],["Shyann",2],["Avalyn",2],["Ksenia",1]],
      [["James",2],["Avalyn",2],["Aryana",2],["McCain",2],["Layla",1]],
      [["McCain",2],["Layla",2],["Caden",2],["James",2],["Cody",0]],
      [["Alexis",2],["Aurora",2],["Katie",2],["Ashley",2],["AJ",1]],
      [["Layla",2],["McCain",2],["Morgen",2],["Ksenia",2],["James",1]],
      [["Avalyn",2],["James",2],["Ellie",2],["Aurora",2],["Isabella",0]],
      [["Caden",2],["Eli",2],["McCain",2],["Kristin",2],["Hermalina",0]],
      [["Eli",2],["Caden",2],["Kristin",2],["Alejandro",2],["Ellie",1]],
      [["Kristin",2],["Alejandro",2],["Eli",2],["Caden",2],["Cassie",1]],
      [["Ellie",2],["Cody",2],["Avalyn",2],["Morgen",2],["Eli",1]]
    ];
    var completedDataset = [
      [["Katie",2],["Morgen",2],["Alexis",2],["Cassie",2],["Ashley",1]],
      [["Cassie",2],["AJ",0],["Alejandro",2],["Katie",2],["Kristin",1]],
      [["Claire",0],["Ksenia",0],["Cody",0],["Hermalina",2],["Morgen",1]],
      [["AJ",0],["Cassie",2],["Ashley",0],["Julia",2],["Alexis",1]],
      [["Julia",0],["Shyann",0],["Isabella",0],["AJ",0],["Aryana",0]],
      [["Ksenia",0],["Claire",0],["Hermalina",2],["Layla",2],["Aurora",1]],
      [["Alejandro",0],["Kristin",0],["Cassie",0],["Eli",0],["Shyann",0]],
      [["Hermalina",0],["Aryana",0],["Ksenia",0],["Claire",0],["Caden",0]],
      [["Cody",0],["Ellie",0],["Claire",0],["Aryana",0],["McCain",0]],
      [["Aryana",0],["Hermalina",0],["James",0],["Cody",0],["Julia",0]],
      [["Ashley",0],["Isabella",0],["AJ",2],["Alexis",2],["Katie",1]],
      [["Isabella",0],["Ashley",0],["Julia",0],["Shyann",0],["Avalyn",0]],
      [["Morgen",2],["Katie",2],["Layla",2],["Ellie",2],["Claire",1]],
      [["Shyann",0],["Julia",0],["Aurora",0],["Isabella",0],["Alejandro",0]],
      [["Aurora",0],["Alexis",0],["Shyann",0],["Avalyn",2],["Ksenia",1]],
      [["James",0],["Avalyn",0],["Aryana",0],["McCain",2],["Layla",1]],
      [["McCain",0],["Layla",0],["Caden",0],["James",0],["Cody",0]],
      [["Alexis",0],["Aurora",2],["Katie",2],["Ashley",2],["AJ",1]],
      [["Layla",0],["McCain",2],["Morgen",2],["Ksenia",2],["James",1]],
      [["Avalyn",0],["James",0],["Ellie",0],["Aurora",0],["Isabella",0]],
      [["Caden",0],["Eli",0],["McCain",0],["Kristin",0],["Hermalina",0]],
      [["Eli",0],["Caden",0],["Kristin",0],["Alejandro",2],["Ellie",1]],
      [["Kristin",0],["Alejandro",0],["Eli",0],["Caden",2],["Cassie",1]],
      [["Ellie",0],["Cody",0],["Avalyn",2],["Morgen",2],["Eli",1]]
    ];
    
    //0: Unaffected
    //1: Affected/Infected
    //2: Unknown
    //3: Certain unknown due to invalid datapoints (temporary, change back to 2 when done)
   
    function drawGraph(dataset,graphCanvas) {
      var canvasWidth = graphCanvas.width;
      var canvasHeight = graphCanvas.height;
      var c = graphCanvas.getContext("2d");
    
      //Draw general:
        //Draw axes:
      var graphX = 5*((canvasHeight/dataset.length)/2);
      var graphY = canvasHeight-(canvasHeight/dataset.length);
      c.strokeStyle = "RGB(0,0,0)";
      c.lineWidth = canvasWidth/128;
      c.moveTo(graphX,0);
      c.lineTo(graphX,graphY);
      c.lineTo(canvasWidth,graphY);
      c.stroke();
        //Draw host values:
      c.fillStyle = "RGB(0,0,0)";
      c.font = String((canvasHeight/dataset.length)/2) + "px 'Arial', sans-serif";
      c.textAlign = "left";
      c.textBaseline = "alphabetic";
      for (i = 0; i < dataset.length; i++) {
        c.fillText(dataset[i][0][0],0,(i+(1/2))*(canvasHeight/dataset.length));
      };
    
      //Draw points:
      for (i = 0; i < dataset.length; i++) {
        for (j = 0; j < dataset[i].length; j++) {
          if (dataset[i][j][1] === 0) {
            c.fillStyle = "RGB(0,0,0)";
          } else {
            if (dataset[i][j][1] === 1) {
              c.fillStyle = "RGB(255,0,255)";
            } else {
              c.fillStyle = "RGB(0,0,255)";
            };
          };
          c.beginPath();
          c.arc((j*((canvasWidth-graphX)/4))+graphX,i*(canvasHeight/dataset.length),canvasWidth/128,0,2*Math.PI,false);
          c.closePath();
          c.fill();
        };
      };
    
      //Draw lines:
      function hostNodeIndex(host) {
        for (k = 0; k < dataset.length; k++) {
          if (dataset[k][0][0] === host) {
            return k;
          };
        };
        return undefined;
      };
      c.lineWidth = canvasWidth/256;
      for (i = 0; i < dataset.length; i++) {
        for (j = 1; j < dataset[i].length; j++) {
          var backNode = hostNodeIndex(dataset[i][j][0]);
          if (dataset[backNode][j-1][1] === 0) {
            c.strokeStyle = "RGB(0,0,0)";
          } else {
            if (dataset[backNode][j-1][1] === 1) {
              c.strokeStyle = "RGB(255,0,255)";
            } else {
              c.strokeStyle = "RGB(0,0,255)";
            };
          };
          c.beginPath();
          c.moveTo((j*((canvasWidth-graphX)/4))+graphX,i*(canvasHeight/dataset.length));
          c.lineTo(((j-1)*((canvasWidth-graphX)/4))+graphX,backNode*(canvasHeight/dataset.length));
          c.closePath();
          c.stroke();
        };
      };
    };
    
    drawGraph(initialDataset,document.getElementById("initialInfectionGraph"));
    drawGraph(fixedDataset,document.getElementById("fixedInfectionGraph"));
    drawGraph(completedDataset,document.getElementById("completedInfectionGraph"));
    //Invalid stuff
    //Colums: 0, 1, 2, 3, 4
    //Rows: 0-~20
    //Column 2: "Avalyn" appears 0 times at x = 2, "Morgen" appears 2 times at x = 2
    //Column 3: "Alejandro" appears 0 times at x = 3, "Morgen" appears 0 times at x = 3, "Eli" appears 0 times at x = 3, "Shyann" appears 2 times at x = 3, "Avalyn" appears 2 times at x = 3, "Ellie" appears 2 times at x = 3
    //Column 4: "Alejandro" appears 2 times at x = 4, "Shyann" appears 0 times at x = 4, "Eli" appears 2 times at x = 4, "Ellie" appears 0 times at x = 4
  </script>
</html>
