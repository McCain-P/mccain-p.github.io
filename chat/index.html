<html>
  <head>
    <title>
      NetCom
    </title>
    <style>
      body {
        background-color: RGB(0,0,0); 
      }
      body * {
        padding: 0;
        border: 0;
        margin: 0;
        outline: none;
      }
      button {
        border-radius: 12.5%;
        border-style: solid;
        border-width: 0.3vw;
        color: RGB(255,255,255);
        font-family: "Arial", sans-serif;
        font-size: 2vw;
        text-align: center;
      }
      button.blue {
        background-color: RGB(0,0,255);
        border-color: RGB(0,0,192);
        box-shadow: 0.3vw 0.3vw 0 0 RGB(0,0,128);
      }
       button.purple {
        background-color: RGB(255,0,255);
        border-color: RGB(192,0,192);
        box-shadow: 0.3vw 0.3vw 0 0 RGB(128,0,128);
      }
      button.black {
        background-color: RGB(0,0,0);
        border-color: RGB(255,255,255);
        box-shadow: 0.3vw 0.3vw 0 0 RGB(128,128,128); 
      }
      button.blue:hover {
        background-color: RGB(128,128,255); 
      }
      button.purple:hover {
        background-color: RGB(255,128,255); 
      }
      button.black:hover {
        background-color: RGB(128,128,128);
      }
      button:active {
        box-shadow: none;
        transform: translate(0.3vw,0.3vw);  
      }
      button.blue:active {
        background-color: RGB(0,0,192);
      }
      button.purple:active {
        background-color: RGB(192,0,192); 
      }
      button.black:active {
        background-color: RGB(64,64,64);
      }
      .icon {
        background-repeat: no-repeat;
        background-size: auto 75%;
        background-origin: content-box;
        background-position: center;
      }
      #header {
        height: 10vh;
        width: 100vw;
        position: fixed;
        top: 0;
        left: 0;
        border-bottom: 2vh solid RGB(0,0,255);
      }
      #footer {
        height: 20vh;
        width: 100vw;
        position: fixed;
        bottom: 0;
        left: 0;
        border-top: 2vh solid RGB(255,0,255);
      }
      #header * {
        position: absolute; 
      }
      #footer * {
        position: absolute;
      }
      #messageInput {
        height: 75%;
        width: 55%;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        border: 1vh solid RGB(255,0,255);
      }
      #textInput {
        height: 60%;
        width: 100%;
        top: 0;
        left: 0;
        background-color: RGBA(255,0,0,0);
        color: RGB(255,255,255);
        font-family: "Arial", sans-serif;
        font-size: 1vw;
      }
      #fileInput {
        height: calc(40% - 1vh);
        width: 100%;
        bottom: 0;
        left: 0;
        border-top: 1vh solid RGB(255,0,255);
      }
      #fileSelect {
        height: 80%;
        width: 8%;
        top: 10%;
        left: 2%;
        background-image: URL(resources/fileIcon.svg);
      }
      #fileNames {
        width: 85%;
        top: 50%;
        right: 0;
        transform: translateY(-50%);
        text-align: left;
        color: RGB(255,255,255);
        font-family: "Arial", sans-serif;
        font-size: 1vw;
      }
      #messageSend {
        height: 25%;
        width: 10%;
        top: 37.5%;
        right: 5%;
      }
      #chat {
        height: 66vh;
        width: 100vw;
        position: fixed; 
        top: 12vh;
        left: 0;
        padding-left: 10vw;
        padding-right: 10vw;
      }
      #chat > * {
        position: relative;
        margin-top: 5vh;
        margin-bottom: 5vh;
      }
      #chat p {
        color: RGB(255,255,255);
        font-family: "Arial", sans-serif;
        font-size: 1vw;
      }
      .media {
        height: 22vh;
        width: 16.5vh;
        border-style: solid;
        border-width: 0.5vw;
        border-color: RGB(0,0,255);
      }
      .media * {
        position: absolute; 
      }
      .mediaContent {
        height: 75%;
        width: 100%;
        top: 0;
        left: 0;
        border: none;
      }
      .mediaControls {
        height: 25%;
        width: 100%;
        bottom: 0;
        left: 0;
        background-color: RGB(0,0,255);
      }
      .mediaControls > button {
        height: 75%;
        width: 18.75%;
        background-size: auto 50%;
      }
      .mediaControls > .downloadButton {
        top: 12.5%;
        right: 5%;
        background-image: URL(resources/fileIcon.svg);
      }
      .mediaControls > .playButton {
        top: 12.5%;
        left: 5%;
        background-image: URL(resources/playIcon.svg);
      }
      .mediaControls > .pauseButton {
        top: 12.5%;
        left: 28.75%;
        background-image: URL(resources/pauseIcon.svg);
      }
      .mediaControls > .speedButton {
        top: 12.5%;
        left: 52.5%;
        background-image: URL(resources/speedIcon.svg);
      }
      .mediaControls > .speedButtonDropdown {
        height: 100%;
        width: calc(100% + 1vw);
        left: -0.5vw;
        top: calc(100% + 0.5vw);
        background-color: RGB(255,0,255);
        /*visibility: hidden;*/
        z-index: -1;
      }
      @keyframes dropdown {
        0% {
          /*visibility: hidden;*/
          top: calc(0.5vw);
        }
        1% {
          /*visibility: visible;*/
        }
        100% {
          /*visibility: visible;*/
          top: calc(100% + 0.5vw);
        }
      }
      .speedButton:active ~ .speedButtonDropdown, .speedButton ~ .speedButtonDropdown:hover {
        animation: 0.5s linear 0s 1 normal forwards running dropdown;
      }
      .speedButton:not(:active) ~ .speedButtonDropdown:not(:hover) {
        animation: 0.5s linear 0.5s 1 reverse both running dropdown;
      }
    </style>
  </head>
  <body>
    <div id="header">
    </div>
    <div id="chat">
    </div>
    <div id="footer">
      <div id="messageInput">
        <textarea id="textInput">
        </textarea>
        <div id="fileInput">
          <button id="fileSelect" class="blue icon">
          </button>
          <p id="fileNames">
          </p>
        </div>
      </div>
      <button id="messageSend" class="blue">
          Send
      </button>
    </div>
  </body>
  <script>
    var chat = document.getElementById("chat");
    
    function createChatContent(contentType,contentData) { //contentType is MIME type
      if (contentType === "text/plain") { //Check regex for if contentType starts with image, video, or audio
        
      } else {
        if (RegExp("^image/.*").test(contentType) === true) {
          var media = document.createElement("div");
          media.className = "media";
          chat.appendChild(media);
          var mediaContent = document.createElement("img");
          mediaContent.className = "mediaContent";
          mediaContent.src = "data:" + contentType + ";base64," + contentData; 
          media.appendChild(mediaContent);
          var mediaControls = document.createElement("div");
          mediaControls.className = "mediaControls";
          media.appendChild(mediaControls);
          var downloadButton = document.createElement("button");
          downloadButton.className = "downloadButton blue icon";
          downloadButton.onclick = "window.location = this.parentElement.parentElement.getElementsByClassName('mediaContent')[0].src";
          mediaControls.appendChild(downloadButton);
        } else {
          if (RegExp("^video/.*").test(contentType) === true) {
            var media = document.createElement("div");
            media.className = "media";
            chat.appendChild(media);
            var mediaContent = document.createElement("video");
            mediaContent.className = "mediaContent";
            mediaContent.src = "data:" + contentType + ";base64," + contentData; 
            media.appendChild(mediaContent);
            var mediaControls = document.createElement("div");
            mediaControls.className = "mediaControls";
            media.appendChild(mediaControls);
            var playButton = document.createElement("button");
            playButton.className = "playButton purple icon";
            playButton.onclick = "this.parentElement.parentElement.getElementsByClassName('mediaContent')[0].play()";
            mediaControls.appendChild(playButton);
            var pauseButton = document.createElement("button");
            pauseButton.className = "pauseButton purple icon";
            pauseButton.onclick = "this.parentElement.parentElement.getElementsByClassName('mediaContent')[0].pause()";
            mediaControls.appendChild(pauseButton);
            //Current-time text input
            var speedButton = document.createElement("button");
            speedButton.className = "speedButton blue icon";
            speedButton.onclick = "";
            mediaControls.appendChild(speedButton);
            var speedButtonDropdown = document.createElement("div");
            speedButtonDropdown.className = "speedButtonDropdown";
            mediaControls.appendChild(speedButtonDropdown);
            var downloadButton = document.createElement("button");
            downloadButton.className = "downloadButton blue icon";
            downloadButton.onclick = "window.location = this.parentElement.parentElement.getElementsByClassName('mediaContent')[0].src";
            mediaControls.appendChild(downloadButton);
          } else {
            if (RegExp("^audio/.*").test(contentType) === true) {
                
            } else {
              //This is the download/general file contentType 
            };
          };
        };
      };
    };
    createChatContent("video/X","x");
    createChatContent("audio/X","x");
    createChatContent("image/X","x");
    createChatContent("text/plain","x");
    /*CSS NOTE:
    *Control buttons that need more room expand a rectangle below the "content" div
    -An example would be the "speed"/"playback rate" button, which would expand a rectangle below the "content" div asking users to input a speed via text input
    *Expanding rectangles expand with a CSS animation
    *Expanding rectangles expand when the button is clicked
    *How would this drop-down menu be accomplished?
    -Possibly have all the addition rectangles exist at once, except with display: none until they are used?
    */
  </script>
</html>
