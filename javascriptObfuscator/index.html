<html>
	<head>
		<title>
			JavaScript Obfuscator
		</title>
		<style>
			body {
				background-color: RGB(0,0,0);
			}
			body > *, body > div > * {
				margin: 4vh;
			}
			h1, label, button {
				font-family: "Arial", sans-serif;
			}
			label, button {
				color: RGB(255,128,128);
			}
			label {
				display: block;
				font-size: 2vw;
			}
			button {
				font-size: 1.5vw;
			}
			textarea {
				font-family: "Consolas", "Menlo", "Monaco", monospace;
				color: RGB(192,128,255);
				border: 0.5vw solid RGB(192,128,255);
				background-color: RGB(0,0,0);
				font-size: 1vw;
				height: 30vh;
				width: 60vw;
			}
			/*
			#title {
				height: 10vh;
				width: auto;
				margin: 8vh 4vh 8vh 4vh
			}
			*/
			#title {
				color: RGB(192,192,255);
				font-size: 4vw;
			}
		</style>
	</head>
	<body>
		<!--
		<img src="javascriptObfuscator.svg" id="title">
		</img>
		-->
		<h1 id="title">
			JavaScript Obfuscator
		</h1>
		<div>
			<label for="input">
				Program-Code Input
			</label>
			<textarea class="programData" id="input"></textarea>
		</div>
		<div>
			<label for="output">
				Program-Code Output
			</label>
			<textarea class="programData" id="output"></textarea>
		</div>
		<div>
			<label for="outputIntermediary0">
				Intermediary Output (Obfuscation Round) 0
			</label>
			<textarea class="programData outputIntermediary" id="outputIntermediary0"></textarea>
		</div>
		<div>
			<label for="outputIntermediary1">
				Intermediary Output (Obfuscation Round) 1
			</label>
			<textarea class="programData outputIntermediary" id="outputIntermediary1"></textarea>
		</div>
		<div>
			<label for="outputIntermediary2">
				Intermediary Output (Obfuscation Round) 2
			</label>
			<textarea class="programData outputIntermediary" id="outputIntermediary2"></textarea>
		</div>
		<div>
			<label for="outputIntermediary3">
				Intermediary Output (Obfuscation Round) 3
			</label>
			<textarea class="programData outputIntermediary" id="outputIntermediary3"></textarea>
		</div>
		<button id="enterButton">
			Obfuscate
		</button>
	</body>
	<script>
		/*
		dataDisplayElements index  Element
		0                          Input
		1                          Output
		n, where n > 1             Intermediary Output n - 2
		*/
		var dataDisplayElements = [document.getElementByid("input"), document.getElementById("output"), document.getElementById("intermediaryOutput0"), document.getElementById("intermediaryOutput1"), document.getElementById("intermediaryOutput2"), document.getElementById("intermediaryOutput3")];
		//programData follows the same structure as dataDisplayElements, and stores the internal values of the data
		var programData = [dataDisplayElements[0].value];
		//identifier = {identifier string, indexes of characters in the string}
		var identifier = ["", []];
		//validIdentifierCharacters = {valid characters, index of the beginning of the characters that cannot be used as the first character}
		var validIdentifierCharacters = ["$ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz0123456789", 0];
		for (var i = 0; i < validIdentifierCharacters.length; i++) {
			console.log(i + " = " + validIdentifierCharacters[i]);
		};
		function incrementIdentifier() {
			//current = {character, character index}
			var current = [identifier[0].charAt(identifier[0].length - 1), identifier[1][identifier[1].length - 1]]; 
			/*
			         increment
			          /      \
				1 char   > 1char
				           /  \_______________
					   |                  \
				       < valid.length - 1     = valid.length - 1
				           |                      |      \
				replace with next character       |       \___________
				                                  |                   \
			                                     previous char exists     previous char does not exist
							     
			Alternate idea: just use the code from the base conversion program with a custom character sequence, with a modification that prevents some characters from being used as the first character.
			*/
			if (current[1] < validIdentifierCharacters.length && ) {
				if () {
					//
				} else {
					//
				};
			} else {
				
			};
		};
		function obfuscate() {
			programData[2] = programData[0];
			//Obfuscation round 0 - whitespace-character removal and neutral identifiers
			//Whitespace-character removal
			//List of JavaScript statements that must be followed by a space
			var whitespaceStatements = ["var", "let", "const", "return", "function", "function*", "async", "class", "import", "export"];
			//Component of the regex statement that includes the whitespace statements
			var regexComponent = "";
			for (var i = 0; i < whitespaceStatements.length; i++) {
				regexComponent += "(?:" + whitespaceStatements[i] + ")";
			};
			var whitespaceRegex = new RegExp("[^" + regexComponent + "]\\s", "g");
			programData[2] = programData[2].replace(whitespaceRegex, "");
			dataDisplayElements[2].value = programData[2];
			//Neutral identifiers
			identifier = validIdentifierCharacters[i];
			//Obfuscation round 1 - structure modification
			
			//Obfuscation round 2 - identifier alteration / aliases
			
			//Obfuscation round 3 - reduced character-set
		};
		document.getElementById("enterButton").addEventListener("click", obfuscate);
	</script>
</html>
